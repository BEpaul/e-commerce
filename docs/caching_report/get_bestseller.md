# 📊 Redis 캐시 도입 성능 비교 보고서

## 📌 테스트 개요

| 항목                  | 내용                                               |
|-----------------------|----------------------------------------------------|
| 테스트 도구           | [k6](https://k6.io/)                               |
| 대상 API              | `/bestsellers` (베스트셀러 조회 API)              |
| 테스트 시나리오       | 최대 1000 VU, 2분 15초 동안 부하 테스트 수행      |
| 테스트 목적           | Redis 캐시 도입 전후의 응답 성능 비교              |
| 환경                  | Spring Boot + RDBMS (MySQL) / Redis (Lettuce)     |

---

## 🚀 성능 비교 요약

| 지표                            | RDBMS만 사용           | Redis 캐시 적용        | 변화율      |
|---------------------------------|------------------------|------------------------|-------------|
| 평균 응답 시간 (avg)            | **2.01ms**             | **1.69ms**             | 🔽 **16% 감소** |
| 응답 시간 p95                   | 4.67ms                 | 3.57ms                 | 🔽 24% 감소 |
| 응답 시간 p90                   | 3.13ms                 | 2.56ms                 | 🔽 18% 감소 |
| 중앙값 (Median)                | 1.41ms                 | 1.16ms                 | 🔽 18% 감소 |
| 최대 응답 시간 (max)           | 61.38ms                | 83.21ms                | ⚠ 증가 (Outlier 가능성) |
| 초당 처리 요청 수 (Throughput) | 484.01 req/s           | 485.63 req/s           | 🔼 소폭 증가 |
| 에러율 / 실패율                | 0.00%                  | 0.00%                  | ✅ 동일 (안정적) |

---

## 📈 응답 시간 트렌드

| 구간               | RDBMS만 사용  | Redis 캐시 사용 | 변화폭 |
|--------------------|---------------|------------------|--------|
| `response_time_trend (avg)` | 2.09ms        | 1.76ms           | 🔽 약 16% |
| `http_req_waiting (p95)`    | 4.58ms        | 3.48ms           | 🔽 약 24% |

---

## ✅ 체크 결과 (성공률)

| 체크 항목                   | 결과     |
|----------------------------|----------|
| Status 200                 | ✅ 100% 성공 |
| 응답 시간 < 500ms          | ✅ Pass |
| 응답 구조 유효성 확인       | ✅ Pass |
| 데이터 존재 여부           | ✅ Pass |
| 응답 크기 유효성 확인       | ✅ Pass |

---

## 📦 네트워크 사용량

| 항목            | RDBMS만 사용 | Redis 캐시 사용 |
|-----------------|--------------|-----------------|
| 수신 데이터량   | 32 MB        | 31 MB           |
| 전송 데이터량   | 7.5 MB       | 7.5 MB          |

---

## 🧠 분석 요약

- Redis 캐시 적용 후, **응답 속도 전반적으로 개선**됨
    - 평균, p90, p95 모두 개선
    - 중앙값 역시 1.16ms로 감소
- 최대 응답 시간이 소폭 증가했으나, 이는 **Outlier 또는 GC 등의 일시적 이슈**일 가능성
- Throughput은 **거의 동일**하며, 부하 처리 능력은 **그대로 유지**
- 전체 성공률 100%, 에러율 0%로 **안정성도 확보**

---

## 📝 결론

- ✅ **Redis 캐시 도입은 조회 API의 성능 개선에 효과적**
- ✅ 평균 응답 시간이 짧아지고, p95 응답 시간이 1ms 이상 개선됨
- ✅ 트래픽이 집중되는 시간대에도 안정적인 응답 가능

---

## 📌 추후 고려 사항

- **Redisson 기반 분산락 도입 후에도 동일 테스트 재실시**
- CPU Usage, 메모리 사용량 등 추가 모니터링


