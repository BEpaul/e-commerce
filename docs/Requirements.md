# E-Commerce 서비스 요구사항 분석 및 정리

## 개요
e-Commerce 서비스는 사용자들이 상품을 검색하고, 장바구니에 담고, 결제하는 기능을 제공하는 웹 애플리케이션입니다.

본 서비스는 상품 주문에 필요한 메뉴 정보들을 구성하고 조회가 가능해야 하며, 사용자는 미리 충전한 잔액을 이용해 상품을 주문할 수 있습니다.

사용자는 상품 주문 내역을 통해 판매량이 가장 높은 상품을 추천받을 수 있습니다.

### 1️⃣ 잔액 충전 및 조회
**🔔 기능적 요구사항**

✅ 잔액 충전
- 사용자 식별자와 충전 금액을 입력받아 잔액을 충전한다.
- 충전 금액은 양수여야 한다.
- 충전 시 최대 금액은 300만원을 넘길 수 없다.

✅ 잔액 조회
- 사용자 식별자를 통해 해당 사용자의 현재 잔액을 조회한다.

**🔔 비기능적 요구사항**
- 여러 사용자가 동시에 충전/조회할 때 데이터 정합성을 보장해야 한다.


### 2️⃣ 상품 조회
**🔔 기능적 요구사항**
- 상품의 기본 정보(ID, 이름, 가격, 잔여수량)을 조회한다.

**비기능적 요구사항**
- 조회 시, 상품의 잔여수량은 정확하면 좋다. (동시성 고려)

### 3️⃣ 쿠폰 발급/사용
**🔔 기능적 요구사항**

✅ 쿠폰 발급
- 사용자는 선착순으로 쿠폰을 발급받을 수 있다.
- 사용자 별 쿠폰 목록을 조회할 수 있어야 한다.

✅ 쿠폰 사용
- 주문 시 쿠폰을 사용하면 전체 주문금액에서 쿠폰 할인이 적용된다.
- 쿠폰은 만료기간을 가지며, 만료된 쿠폰은 사용할 수 없다.

**🔔 비기능적 요구사항**
- 선착순 쿠폰 발급 시, 동시성 문제를 고려하며 순서를 보장해야 한다.

### 4️⃣ 주문 및 결제
**🔔 기능적 요구사항**

✅ 주문
- 사용자 식별자와 주문 상품 정보를 입력받아 주문을 생성한다.
- 사용자 식별자에 대한 주문 내역을 조회할 수 있다.
- 주문 상태를 관리한다. (결제 대기, 결제 완료, 취소 등)

✅ 결제
- 충전된 잔액을 기반으로 결제 처리한다.
- 결제 시 사용자의 잔액과 주문금액을 비교하여 잔액이 부족할 경우 주문을 진행할 수 없다.
- 결제 성공 시 잔액과 상품 잔여수량이 차감되며, 주문 내역이 생성된다.
- 결제 성공 시 주문 정보를 데이터 플랫폼에 전송한다.

**🔔 비기능적 요구사항**
- 트랜잭션의 원자성이 보장되어야 한다. (주문-결제-잔액 차감)
- 결제 실패 시, 롤백 처리한다.
- 여러 사용자가 동시에 주문할 때, 상품 잔여수량에 대한 정확한 처리가 이루어져야 한다.

### 5️⃣ 상위 상품 조회
**🔔 기능적 요구사항**
- 사용자에게 최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 제공한다.
- 추천 상품은 판매량 기준으로 정렬되어야 한다.
- 정보 갱신은 매일 정해진 시각에 주기적으로 이루어진다.

**🔔 비기능적 요구사항**
- 상위 제품 추천은 자주 조회되므로, DB 조회 비용을 고려한다.

